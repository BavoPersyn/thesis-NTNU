\chapter{Project Journal}

After reading into Homography and Visual Odometry I started experimenting with OpenCV. The first step was writing a little program that fills a buffer with pictures and simply shows them on screen. The images in this FIFO queue will in a later stage be used to detect keypoints en determine the translation-, rotation- and normal vector. This way the movement of a car can be determined.
\newline\newline
I've already done the following:
\begin{itemize}
    \item read all images of a folder
    \item display all images of a folder and go through them step by step (with multiple stepsizes)
    \item read video and convert every frame to a gray-scale image and save it to a folder
    \item display a menu that gives you the choice of what you want to do:
    \begin{itemize}
        \item read video(s)
        \item go through images in a folder
        \item ...
    \end{itemize}
    
\end{itemize}
The menu makes it easy to try out the different functionalities and check if everything works as expected. It's also easy to experiment with OpenCV this way.
The next step is to read images and store them in a buffer as described. This will be the next item added to the menu.

\section{11/02/2022}
Images of a sequence stored in a folder can now be read into a buffer, going back and forth is perfectly possible. Jumping multiple frames is also implemented but isn't working properly yet.

\section{14/02/2022}
\begin{itemize}
    \item The way videos are read has been changed so it stores the original images instead of converting them already. The read function also writes info about the size and length of the sequence, this is stored in a text-file. The buffer-function now reads the images and crops them, downsamples them and converts them to gray scale before adding the image into the buffer leaving us with only the important info of the images.
    \item You can now easily navigate through the images of the sequence in the buffer. You can go forwards/backwards one by one and can also jump multiple frames forwards and backwards. The title of the window is updated every time with the frame number so it's easy to see which frame is being displayed.
    \item A black mask of the car is put over the image. Remark: although the car itself is fixed, the drivers head is not, the helmet moves so this can't be masked out with one single image. The wheels aren't fixed as well, they turn. With this fixed mask you sometimes mask too much or too little.
    \item The principal point of a sequence is calculated and stored. 
\end{itemize}
\textbf{Remark: }The car has to follow a path of cones, the yellow cones mark the road. However, at some point the car has to slalom between blue cones that are placed in the middle of the road (in between the yellow cones). If our system just detects cones it's going detect the blue ones as road marks as well. Also, if in a later stage we base our movement on the placement of the cones and we blindly use this part of the sequence as input data, the system will get confused as the car moves through the (blue) cones I think.

\section{17/02/2022}
\begin{itemize}
    \item Writing report of sequencer.
\end{itemize}

\section{21/02/2022}
\begin{itemize}
    \item Reading into keypoint detection
\end{itemize}

\section{22/02/2022}
\begin{itemize}
    \item adding automatic play button to sequencer
    \item Reading into keypoint detection
\end{itemize}

\section{28/02/2022}
\begin{itemize}
    \item Rewriting report
    \item Refactoring code to eliminate duplicate code
\end{itemize}

\section{01/03/2022}
\begin{itemize}
    \item Original images in buffer, processing done by separate function
\end{itemize}

\section{02/03/2022-04/03/2022}
\begin{itemize}
    \item Keypoint detection research
\end{itemize}

\section{07/03/2022}
\begin{itemize}
    \item Rewriting report
    \item Keypoint detection research
\end{itemize}

\section{08/03/2022}
\begin{itemize}
    \item Implementing keypoint detection and matching
    \item Implementing homography calculation
\end{itemize}

\section{09/03/2022}
\begin{itemize}
    \item Writing theoretical background keypoint detection and ORB
\end{itemize}

\section{10/03/2022}
\begin{itemize}
    \item Finish theoretical background keypoint detection and ORB
    \item Prepare slides meeting
    \item Meeting with Rudolf
\end{itemize}

\section{11/03/2022}
\begin{itemize}
    \item Restructure program according to discussed diagram
    \item Meeting with Andreas about ORB with bucketing
\end{itemize}

\section{14/03/2022-15/03/2022}
\begin{itemize}
    \item Visualisation of images as desired
    \item Writing theoretical background computation of R and T
    \item Empirical horizon filtering implementation
    \begin{itemize}
        \item There are no keypoints below the horizon according to the program, which is not true.
    \end{itemize}
\end{itemize}

\section{16/03/2022}
\begin{itemize}
    \item Solving mistake in empirical horizon filtering implementation, horizon filtering works properly now"
    \item Rewritten Sequencer and Converting part (chapter 4.2, 4.3) according to new block diagram
\end{itemize}